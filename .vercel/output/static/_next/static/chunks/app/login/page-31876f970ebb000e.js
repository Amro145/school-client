(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,a.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return r.displayName=s(e),r}},2466:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5125),s=r(2378);let l=a.A.create({baseURL:"https://schoolapi.amroaltayeb14.workers.dev/graphql",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let t=s.A.get("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&s.A.remove("auth_token"),Promise.reject(e)});let n=l},2891:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),s=r(2115),l=r(1213),n=r(63),i=r(3915),o=r(9442),c=r(6132),d=r(3664),u=r(1847);let h=(0,u.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var m=r(5299);let x=(0,u.A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var p=r(2619),b=r.n(p);function f(){let[e,t]=(0,s.useState)(""),[r,u]=(0,s.useState)(""),p=(0,l.wA)(),f=(0,n.useRouter)(),{loading:g,error:v,isAuthenticated:y}=(0,l.d4)(e=>e.auth);return(0,s.useEffect)(()=>{y&&f.push("/admin")},[y,f]),(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 relative overflow-hidden p-6",children:[(0,a.jsx)("div",{className:"absolute top-0 -left-20 w-96 h-96 bg-blue-100/50 rounded-full blur-[100px] animate-float opacity-70"}),(0,a.jsx)("div",{className:"absolute bottom-0 -right-20 w-[500px] h-[500px] bg-purple-100/30 rounded-full blur-[120px] opacity-60"}),(0,a.jsxs)("div",{className:"w-full max-w-[480px] relative z-10 transition-all duration-700 animate-in fade-in slide-in-from-bottom-12",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-10 group cursor-pointer",children:(0,a.jsxs)(b(),{href:"/",className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center shadow-2xl shadow-blue-500/40 group-hover:rotate-12 transition-transform duration-500",children:(0,a.jsx)(o.A,{className:"text-white w-7 h-7"})}),(0,a.jsx)("span",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"EDUDASH"})]})}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-2xl rounded-[48px] border border-white shadow-[0_32px_64px_-16px_rgba(0,0,0,0.1)] overflow-hidden",children:(0,a.jsxs)("div",{className:"px-10 py-12",children:[(0,a.jsxs)("div",{className:"mb-10 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mb-3",children:"Portal Secure Login"}),(0,a.jsx)("p",{className:"text-slate-500 font-bold italic",children:"Identity Verification Required"})]}),v&&(0,a.jsxs)("div",{className:"mb-8 p-5 bg-red-50/50 backdrop-blur-md border border-red-100 rounded-3xl flex items-center space-x-4 animate-in zoom-in-95 duration-500",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-2xl flex items-center justify-center shrink-0",children:(0,a.jsx)(c.A,{className:"w-6 h-6 text-red-600"})}),(0,a.jsx)("p",{className:"text-sm font-black text-red-700",children:v})]}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),p((0,i.Lx)({email:e,password:r}))},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:"Administrative Email"}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none text-slate-400 group-focus-within:text-blue-600 transition-colors",children:(0,a.jsx)(d.A,{className:"w-5 h-5"})}),(0,a.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-14 pr-6 py-5 bg-slate-50/50 border border-slate-100 rounded-[24px] text-slate-900 font-bold placeholder:text-slate-300 focus:ring-4 focus:ring-blue-50 focus:border-blue-500 focus:bg-white transition-all outline-none",placeholder:"admin@edudash.edu"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,a.jsx)("label",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Secret Key"}),(0,a.jsx)(b(),{href:"#",className:"text-[10px] font-black text-blue-600 uppercase tracking-widest hover:underline",children:"Reset Access"})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none text-slate-400 group-focus-within:text-blue-600 transition-colors",children:(0,a.jsx)(h,{className:"w-5 h-5"})}),(0,a.jsx)("input",{type:"password",required:!0,value:r,onChange:e=>u(e.target.value),className:"block w-full pl-14 pr-6 py-5 bg-slate-50/50 border border-slate-100 rounded-[24px] text-slate-900 font-bold placeholder:text-slate-300 focus:ring-4 focus:ring-blue-50 focus:border-blue-500 focus:bg-white transition-all outline-none",placeholder:"••••••••••••"})]})]}),(0,a.jsxs)("button",{type:"submit",disabled:g,className:"w-full relative group",children:[(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-[28px] blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),(0,a.jsx)("div",{className:"relative flex items-center justify-center py-5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white rounded-[24px] font-black text-lg transition-all active:scale-[0.98]",children:g?(0,a.jsx)(m.A,{className:"w-7 h-7 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["AUTHORIZE PORTAL ",(0,a.jsx)(x,{className:"ml-3 w-6 h-6 group-hover:translate-x-1 transition-transform"})]})})]})]}),(0,a.jsx)("div",{className:"mt-12 pt-8 border-t border-slate-100 text-center",children:(0,a.jsxs)("p",{className:"text-slate-400 font-bold text-sm tracking-tight",children:["Unauthorized access is strictly monitored.",(0,a.jsx)(b(),{href:"/",className:"text-blue-600 ml-2 hover:underline",children:"Return to Terminal"})]})})]})})]})]})}},3664:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},3915:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,Lx:()=>o,ri:()=>d});var a=r(9267),s=r(2466),l=r(2378),n=r(5125);let i={user:null,token:l.A.get("auth_token")||null,loading:!1,error:null,isAuthenticated:!!l.A.get("auth_token")},o=(0,a.zD)("auth/login",async(e,t)=>{let{email:r,password:a}=e,{rejectWithValue:i}=t;try{let e=await s.A.post("",{query:"\n      mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n          token\n          user {\n            id\n            email\n            userName\n            role\n          }\n        }\n      }\n    ",variables:{email:r,password:a}});if(e.data.errors)return i(e.data.errors[0].message);let{token:t,user:n}=e.data.data.login;return l.A.set("auth_token",t,{expires:7,secure:!0,sameSite:"strict"}),{token:t,user:n}}catch(e){if(n.A.isAxiosError(e)){var o,c;return i((null==(c=e.response)||null==(o=c.data)?void 0:o.message)||e.message||"Login failed")}return i("Login failed")}}),c=(0,a.Z0)({name:"auth",initialState:i,reducers:{logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,l.A.remove("auth_token")}},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.token=t.payload.token,e.user=t.payload.user,e.isAuthenticated=!0}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{logout:d}=c.actions,u=c.reducer},5299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5433:(e,t,r)=>{Promise.resolve().then(r.bind(r,2891))},6132:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9442:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])}},e=>{e.O(0,[619,196,441,255,358],()=>e(e.s=5433)),_N_E=e.O()}]);